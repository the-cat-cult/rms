<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rms</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Poppins:wght@200;400;600;800&display=swap" rel="stylesheet">

    <!-- Import css -->
    <link rel="stylesheet" href="../style.css">
    <!-- Javascript -->
    <script src="../script.js"></script>

</head>

<div class="container mt-5">
    <h1>Hi! I see this is your first time in here &#x1f973;</h1>
    <h2>Let's set a new password for you...</h2>
    <form id="loginForm">
        <!-- Phone number -->
        <div class="form-group">
            <input type="password" class="form-control mt-5" id="password" placeholder="********">
            <input type="password" class="form-control mt-5" id="c_password" placeholder="********">
        </div>

        <div class="buttons mt-3">
            <button type="submit" class="btn btn-primary mt-3 w-25" id="set_password" onclick="javascript:$" disabled>Set Password</button>
        </div>
        <ul class="mt-5">
            <li>
                <span id="length"></span> Must be 8 characters or more
            </li>
            <li>
                <span id="capital"></span> Must contain a capital letter
            </li>
            <li>
                <span id="number"></span> Must contain a number
            </li>
            <li>
                <span id="special"></span> Must contain a special character (!@#$%^&*])
            </li>
            <li>
                <span id="c_pass"></span> Must match the confirm password
            </li>

        </ul>

    </form>
</div>

<script>
    var length_checkmark = document.getElementById("length");
    var capital_checkmark = document.getElementById("capital");
    var number_checkmark = document.getElementById("number");
    var special_checkmark = document.getElementById("special");
    var c_pass_checkmark = document.getElementById("c_pass");
    var password = document.getElementById("password");
    var confirm_password = document.getElementById("c_password");

    var ver1, ver2 = false;
    password.onkeyup = function() {
        if (password.value.length >= 8) {
            length_checkmark.innerHTML = "&#10004;";
            length_checkmark.style.color = "green";
        } else {
            length_checkmark.innerHTML = "&#10006;";
            length_checkmark.style.color = "red";
        }


        var capital = /[A-Z]/g;
        if (password.value.match(capital)) {
            capital_checkmark.innerHTML = "&#10004;";
            capital_checkmark.style.color = "green";
        } else {
            capital_checkmark.innerHTML = "&#10006;";
            capital_checkmark.style.color = "red";
        }


        var number = /[0-9]/g;
        if (password.value.match(number)) {
            number_checkmark.innerHTML = "&#10004;";
            number_checkmark.style.color = "green";
        } else {
            number_checkmark.innerHTML = "&#10006;";
            number_checkmark.style.color = "red";
        }

        var special = /[!@#$%^&*]/g;
        if (password.value.match(special)) {
            special_checkmark.innerHTML = "&#10004;";
            special_checkmark.style.color = "green";
        } else {
            special_checkmark.innerHTML = "&#10006;";
            special_checkmark.style.color = "red";
        }

        if (password.value == confirm_password.value) {
            c_pass_checkmark.innerHTML = "&#10004;";
            c_pass_checkmark.style.color = "green";
        } else {
            c_pass_checkmark.innerHTML = "&#10006;";
            c_pass_checkmark.style.color = "red";
        }


        if (password.value.length >= 8 && password.value.match(/[A-Z]/g) && password.value.match(/[0-9]/g) && password.value.match(/[!@#$%^&*]/g)) {
            var1 = true;
        } else {
            var1 = false;
        }

    }

    // Check if password and confirm password match
    confirm_password.onkeyup = function() {
        if (password.value == confirm_password.value) {
            c_pass_checkmark.innerHTML = "&#10004;";
            c_pass_checkmark.style.color = "green";
            if (var1) {
                // Enable button
                document.getElementById("set_password").disabled = false;
            } else {
                document.getElementById("set_password").disabled = true;
            }
        } else {
            c_pass_checkmark.innerHTML = "&#10006;";
            c_pass_checkmark.style.color = "red";
            var2 = false;
        }
    }
</script>

<!-- Include Bootstrap JS and jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>