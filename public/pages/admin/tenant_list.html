<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>START</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Poppins:wght@200;400;600&display=swap" rel="stylesheet">

</head>

<body>
    <!-- Header -->
    <header>
        <nav class="navbar navbar-expand-lg bg-body-tertiary">
            <div class="container-fluid">
                <a class="navbar-brand mx-4" href="/">
                    <img src="/assets/Start-icon-01.svg" alt="Bootstrap" height="30">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    </ul>
                </div>


                <!-- Sign Out button -->
                <div class="d-flex mx-5">
                    <button type="button" class="btn btn-outline-primary mx-3" onclick="sign_out()">Sign Out</button>
                </div>
            </div>
        </nav>
    </header>


    <!-- Body -->
    <div class="container">
        <div class="filter-section mb-3">
            <div class="row">
                <div class="col-md-2">
                    <!-- Button to Add Tenant -->
                    <button type="button" class="btn btn-success p-4" onclick="window.location.href='/pages/add_tenant.html'">Add Tenant</button>
                </div>

                <div class="col-md-4">
                    <!-- Spacer -->

                </div>

                <!-- Search by Personal Number -->
                <div class="col-md-3">
                    <label for="personal-number" class="form-label">Personal Number</label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="personal-number">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" type="button" onclick="search_by_personal_number(document.getElementById('personal-number').value)">Search</button>
                        </div>
                    </div>
                </div>
                <!-- Search by Phone Number -->
                <div class="col-md-3">
                    <label for="phone-number" class="form-label">Phone Number</label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="phone-number">
                        <div class="input-group-append">
                            <button class="btn btn-outline-secondary" type="button" onclick="search_by_phone_number(document.getElementById('phone-number').value)">Search</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Property List -->
        <div class="property-list">
            <div class="list-group" id="prop-list">
            </div>
        </div>

        <style>
            .filter-section {
                background-color: #F2F2F2;
                border-radius: 10px;
                padding: 20px;
                margin-top: 20px;
            }
            
            .list-group {
                max-height: 700px;
                margin-bottom: 10px;
                overflow-y: scroll;
                -webkit-overflow-scrolling: touch;
            }
        </style>


        <script>
            // current_user = "Jignesh";
            // document.getElementById("profile_name").innerHTML = current_user;


            default_data = {
                1: {
                    "name": "Jignesh",
                    "ph_no": "1234567890",
                    "rank": "Captain",
                    "personal_no": "1234567-A",
                    "Unit": "INS Valsura",
                    "Allocation": true
                },
                2: {
                    "name": "John Doe",
                    "ph_no": "9876543210",
                    "rank": "Lieutenant",
                    "personal_no": "9876543-B",
                    "Unit": "USS Enterprise",
                    "Allocation": false
                },
                3: {
                    "name": "Alice Smith",
                    "ph_no": "5551234567",
                    "rank": "Sergeant",
                    "personal_no": "5551234-C",
                    "Unit": "Fort Bragg",
                    "Allocation": true
                },
                4: {
                    "name": "Emily Johnson",
                    "ph_no": "8885559999",
                    "rank": "Major",
                    "personal_no": "8885559-D",
                    "Unit": "Camp Pendleton",
                    "Allocation": false
                },
                5: {
                    "name": "David Brown",
                    "ph_no": "7778881234",
                    "rank": "Lieutenant Colonel",
                    "personal_no": "7778881-E",
                    "Unit": "US Naval Academy",
                    "Allocation": true
                },
                6: {
                    "name": "Sophia Lee",
                    "ph_no": "3339998888",
                    "rank": "Captain",
                    "personal_no": "3339998-F",
                    "Unit": "HMS Victory",
                    "Allocation": true
                },
                7: {
                    "name": "Michael Wang",
                    "ph_no": "1112223333",
                    "rank": "Colonel",
                    "personal_no": "1112223-G",
                    "Unit": "Parris Island",
                    "Allocation": false
                },
                8: {
                    "name": "Olivia Garcia",
                    "ph_no": "6667778888",
                    "rank": "Sergeant Major",
                    "personal_no": "6667778-H",
                    "Unit": "Camp Lejeune",
                    "Allocation": true
                },
                9: {
                    "name": "William Kim",
                    "ph_no": "4445556666",
                    "rank": "Captain",
                    "personal_no": "4445556-I",
                    "Unit": "USS Nimitz",
                    "Allocation": false
                },
                10: {
                    "name": "Ava Martinez",
                    "ph_no": "2223334444",
                    "rank": "Major General",
                    "personal_no": "2223334-J",
                    "Unit": "Fort Hood",
                    "Allocation": true
                },
                11: {
                    "name": "Ethan Davis",
                    "ph_no": "9990001111",
                    "rank": "Commander",
                    "personal_no": "9990001-K",
                    "Unit": "HMS Invincible",
                    "Allocation": false
                },
                12: {
                    "name": "Mia Johnson",
                    "ph_no": "7778889999",
                    "rank": "Captain",
                    "personal_no": "7778889-L",
                    "Unit": "USS Iowa",
                    "Allocation": true
                },
                13: {
                    "name": "Daniel White",
                    "ph_no": "5556667777",
                    "rank": "Lieutenant Colonel",
                    "personal_no": "5556667-M",
                    "Unit": "Camp David",
                    "Allocation": false
                },
                14: {
                    "name": "Charlotte Brown",
                    "ph_no": "4445556666",
                    "rank": "Major",
                    "personal_no": "4445556-N",
                    "Unit": "USS Missouri",
                    "Allocation": true
                },
                15: {
                    "name": "Liam Wilson",
                    "ph_no": "1112223333",
                    "rank": "Sergeant",
                    "personal_no": "1112223-O",
                    "Unit": "Fort Benning",
                    "Allocation": true
                },
                16: {
                    "name": "Grace Lee",
                    "ph_no": "9998887777",
                    "rank": "General",
                    "personal_no": "9998887-P",
                    "Unit": "The Pentagon",
                    "Allocation": false
                },
                17: {
                    "name": "Benjamin Garcia",
                    "ph_no": "6667778888",
                    "rank": "Major General",
                    "personal_no": "6667778-Q",
                    "Unit": "Fort Knox",
                    "Allocation": true
                },
                18: {
                    "name": "Chloe Kim",
                    "ph_no": "3334445555",
                    "rank": "Captain",
                    "personal_no": "3334445-R",
                    "Unit": "USS Enterprise",
                    "Allocation": false
                },
                19: {
                    "name": "Alexander Davis",
                    "ph_no": "8889990000",
                    "rank": "Colonel",
                    "personal_no": "8889990-S",
                    "Unit": "HMS Victory",
                    "Allocation": true
                },
                20: {
                    "name": "Emma Martinez",
                    "ph_no": "5554443333",
                    "rank": "Sergeant Major",
                    "personal_no": "5554443-T",
                    "Unit": "USS Nimitz",
                    "Allocation": true
                }
            }



            list = document.getElementById("prop-list");

            data_length = Object.keys(default_data).length;
            for (var i = 1; i <= data_length; i++) {
                var item = document.createElement("a");
                item.setAttribute("href", "/pages/tenant_page.html");
                item.setAttribute("class", "list-group-item list-group-item-action");
                item.setAttribute("aria-current", "true");

                var div1 = document.createElement("div");
                div1.setAttribute("class", "d-flex w-100 justify-content-between");

                var h5 = document.createElement("h5");
                h5.setAttribute("class", "mb-1");
                h5.innerHTML = default_data[i]["name"];

                var small = document.createElement("small");
                small.innerHTML = default_data[i]["rank"];

                div1.appendChild(h5);
                div1.appendChild(small);

                var p = document.createElement("p");
                p.setAttribute("class", "mb-1");
                p.innerHTML = default_data[i]["Unit"];

                var small2 = document.createElement("small");
                small2.setAttribute("class", "text-primary");
                small2.innerHTML = default_data[i]["personal_no"] + " | " + default_data[i]["ph_no"];

                item.appendChild(div1);
                item.appendChild(p);
                item.appendChild(small2);

                list.appendChild(item);
            }

            search_by_property = document.getElementById("property_id");
            search_by_property.addEventListener("keyup", function(event) {
                if (event.keyCode === 13) {
                    event.preventDefault();
                    value = search_by_property.value;
                    search_by_property_id(value);
                }
            });


            function search_by_property_id(value) {
                list = document.getElementById("prop-list");
                list.innerHTML = "";
                data_length = Object.keys(default_data).length;
                for (var i = 1; i <= data_length; i++) {
                    if (default_data[i]["id"].includes(value)) {
                        var item = document.createElement("a");
                        item.setAttribute("href", default_data[i]["link"]);
                        item.setAttribute("class", "list-group-item list-group-item-action");
                        item.setAttribute("aria-current", "true");

                        var div1 = document.createElement("div");
                        div1.setAttribute("class", "d-flex w-100 justify-content-between");

                        var h5 = document.createElement("h5");
                        h5.setAttribute("class", "mb-1");
                        h5.innerHTML = "â‚¹" + default_data[i]["rent"];

                        var small = document.createElement("small");
                        small.innerHTML = default_data[i]["bhk"] + " BHK";;

                        div1.appendChild(h5);
                        div1.appendChild(small);

                        var p = document.createElement("p");
                        p.setAttribute("class", "mb-1");
                        p.innerHTML = default_data[i]["address"];

                        var small2 = document.createElement("small");
                        small2.setAttribute("class", "text-primary");
                        small2.innerHTML = default_data[i]["id"];

                        item.appendChild(div1);
                        item.appendChild(p);
                        item.appendChild(small2);

                        list.appendChild(item);
                    }
                }
            }
        </script>
    </div>


</body>