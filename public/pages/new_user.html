<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rms</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&family=Poppins:wght@200;400;600;800&display=swap" rel="stylesheet">

    <!-- Import css -->
    <link rel="stylesheet" href="new_user.css">
    <!-- Javascript -->
    <script src="../../../../../Downloads/Prozzect/script.js"></script>

</head>

<body>
    <div class="container mt-5">
        <h1>Hi! I see this is your first time in here &#x1f973;</h1>
        <h2>Let's set you up with a new account...</h2>
        <form id="loginForm" class="mt-5">
            <div class="form-group">
                <!-- Full Name floating label -->
                <div class="form-floating mb-3">
                    <input type="text" class="form-control" id="name" placeholder="John Doe">
                    <label for="name">Full Name</label>
                </div>
                <!-- Phone number floating label -->
                <div class="form-floating mb-3">
                    <input type="tel" class="form-control" id="phone_number" placeholder="123456789" pattern="[0-9]{5}-[0-9]{5}">
                    <label for="phone_number">Phone Number</label>
                </div>
            </div>

            <!-- Buttons to validate and submit -->
            <div class="buttons mt-5">
                <button type="button" class="btn btn-primary w-50 m-2" disabled onclick="create()">Submit</button>
                <button type="button" class="btn btn-outline-secondary m-2 w-50" onclick="homepage()">Cancel</button>
            </div>
        </form>
    </div>

    <script>
        // Keep submit button disabled until all fields are filled
        document.getElementById("name").addEventListener("keyup", function() {
            if (document.getElementById("name").value.length > 0 && document.getElementById("phone_number").value.length > 0) {
                document.querySelector(".btn-primary").disabled = false;
            } else {
                document.querySelector(".btn-primary").disabled = true;
            }
        });

        // Keep phone number under 10 digits and only numbers
        document.getElementById("phone_number").addEventListener("keyup", function() {
            if (document.getElementById("phone_number").value.length > 10) {
                document.getElementById("phone_number").value = document.getElementById("phone_number").value.slice(0, 10);
            }

            if (document.getElementById("name").value.length > 0 && document.getElementById("phone_number").value.length == 10) {
                document.querySelector(".btn-primary").disabled = false;
            } else {
                document.querySelector(".btn-primary").disabled = true;
            }
        });

        function create() {
            // Get the values from the form
            const name = document.getElementById("name").value;
            const phone_number = document.getElementById("phone_number").value;

            // Redirect to the success page
            window.location.href = "/pages/otp_new_user.html?name=" + name + "&phoneNumber=" + phone_number;
        }

        function homepage() {
            // Redirect to the homepage
            window.location.href = "/";
        }
    </script>

    <!-- Include Bootstrap JS and jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

</html>